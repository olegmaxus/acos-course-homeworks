BUILDNAME_SRC=proc.c
BUILDNAME_LIB=lib.h

.PHONY: all
all: lib.o libfoo.so program

program: (1)
        gcc -Wall -o $@ $(BUILDNAME_SRC) -lfoo -L.
        export LD_LIBRARY_PATH=.
lib.o: $(BUILDNAME_LIB)
        gcc -c -Wall (2) (3)
libfoo.so: lib.o
        gcc -Wall (4) -o $@ $<

clear:
        rm -f *.o *.so *~ program
